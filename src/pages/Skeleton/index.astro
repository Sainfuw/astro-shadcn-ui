---
import Layout from "@/layouts/Layout.astro";
import { jsxToTxt } from "@/lib/jsxToTxt";
import { Markdown } from "@astropub/md";
import { SkeletonReact } from "./_SkeletonReact";

const text = await jsxToTxt("Skeleton");

// const getData = async () => {
//   await new Promise((r) => setTimeout(r, 2000));
// };
// getData();
---

<Layout title="Accordion">
  <div class="flex flex-col gap-8">
    <h3 class="text-2xl font-bold">Component</h3>
    <div>
      <SkeletonReact client:load />
    </div>

    <h3 class="text-2xl font-bold">Code</h3>
    <Markdown of={text} />
  </div>
</Layout>

<!-- <script is:inline>
  document.addEventListener("astro:before-preparation", (ev) => {
    const originalLoader = ev.loader;
    ev.loader = async function () {
      const { startSpinner } = await import("./spinner.js");
      const stop = startSpinner();
      await originalLoader();
      stop();
    };
  });
</script> -->
